'From Pharo13.1.0SNAPSHOT of 13 October 2025 [Build information: Pharo-13.1.0+SNAPSHOT.build.705.sha.3ff27d6817cce1921739fdd49bd8a14301cefe74 (64 Bit)] on 16 October 2025 at 1:32:54.729 am'!Object subclass: #Snake	instanceVariableNames: 'body direction nextDirection growing'	classVariableNames: ''	package: 'SnakeGame'!!Snake methodsFor: 'initialization' stamp: '2025-10-13T22:21:40.08-05:00'!initialize	super initialize.	body := OrderedCollection new.	self resetToPosition: 10 @ 10! !!Snake methodsFor: 'initialization' stamp: '2025-10-13T16:56:53.779-05:00'!setDirection: aDirection	"Evita que la serpiente se mueva en direcci√≥n opuesta"	((aDirection dx + direction dx = 0) and: [ aDirection dy + direction dy = 0 ])		ifFalse: [ nextDirection := aDirection ]! !!Snake methodsFor: 'initialization' stamp: '2025-10-13T22:21:51.263-05:00'!resetToPosition: aPoint	body := OrderedCollection new.	body add: (SnakePoint new initializeX: aPoint x y: aPoint y).	body add: (SnakePoint new initializeX: aPoint x - 1 y: aPoint y).	body add: (SnakePoint new initializeX: aPoint x - 2 y: aPoint y).	direction := Direction right.	nextDirection := direction.	growing := false! !!Snake methodsFor: 'accessing' stamp: '2025-10-13T16:56:13.248-05:00'!body	^ body! !!Snake methodsFor: 'accessing' stamp: '2025-10-13T16:56:39.42-05:00'!head	^ body first! !!Snake methodsFor: 'accessing' stamp: '2025-10-13T16:57:05.22-05:00'!move	| newHead |	direction := nextDirection.	newHead := SnakePoint new		initializeX: self head x + direction dx		y: self head y + direction dy.	body addFirst: newHead.	growing ifFalse: [ body removeLast ].	growing := false! !!Snake methodsFor: 'accessing' stamp: '2025-10-13T22:22:37.728-05:00'!length	^ body size! !!Snake methodsFor: 'private' stamp: '2025-10-13T16:57:59.031-05:00'!grow	growing := true! !!Snake methodsFor: 'as yet unclassified' stamp: '2025-10-13T16:58:10.691-05:00'!checkSelfCollision	| headPos |	headPos := self head.	^ body allButFirst anySatisfy: [ :segment | segment = headPos ]! !